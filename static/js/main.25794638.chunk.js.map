{"version":3,"sources":["redux/dialogs-reducer.ts","api/api.ts","assets/images/default_image.png","components/Users/Users.module.css","components/Navbar/Navbar.module.css","redux/sidebar-reducer.ts","api/users-api.ts","redux/users-reducer.ts","api/auth-api.ts","api/security-api.ts","redux/auth-reducer.ts","redux/app-reducer.ts","redux/redux-store.ts","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","components/Music/Music.jsx","components/Navbar/Navbar.tsx","components/News/News.jsx","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/Users.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx","hoc/withSuspense.tsx","App.tsx","reportWebVitals.js","index.tsx","components/common/FormsControls/FormsControls.tsx","components/common/FormsControls/FormsControls.module.css","components/Header/Header.module.css","assets/images/preloader.svg","components/common/Preloader/Preloader.tsx","utils/validators/validators.ts","components/common/Paginator/Paginator.module.css","api/profile-api.ts","redux/profile-reducer.ts"],"names":["initialState","dialogs","id","name","messages","message","actions","sendMessage","newMessageBody","type","dialogsReducer","state","action","body","ResultCodesEnum","ResultCodeForCaptchaEnum","instance","axios","create","withCredentials","baseURL","headers","module","exports","sidebarReducer","usersAPI","currentPage","pageSize","get","then","res","data","userId","post","delete","users","totalUsersCount","isFetching","followingInProgress","count","usersReducer","map","u","followed","filter","authAPI","email","password","rememberMe","captcha","securityAPI","login","isAuth","captchaUrl","payload","getAuthUserData","dispatch","a","meData","resultCode","Success","getCaptchaUrl","url","authReducer","initialized","appReducer","rootReducer","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","auth","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Header","props","className","s","header","src","item","loginBlock","nick","onClick","logout","to","HeaderComponent","this","React","Component","connect","LoginReduxForm","reduxForm","onSubmit","handleSubmit","Field","placeholder","validate","required","component","Input","error","formSummaryError","length","stopSubmit","_error","formData","Music","Navbar","nav","activeClassName","activeLink","active","News","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","p","cn","selectedPage","pageNumber","e","User","user","unfollow","follow","photos","small","userPhoto","styles","disabled","some","status","Users","getUsers","getPageSize","createSelector","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageTitle","Preloader","getStste","items","totalCount","withSuspense","WrappedComponent","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","SuspendedDialogs","SuspendedProfile","App","catchAllUnhandledErrors","alert","initializeApp","addEventListener","removeEventListener","exact","path","render","AppContainer","withRouter","promise","Promise","all","SamuraiJSApp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById","FormControl","meta","touched","children","hasError","formControl","Textarea","input","restProps","preloader","value","maxLengthCreator","maxLength","profileAPI","put","photoFile","FormData","append","profile","posts","likesCount","addPostActionCreator","newPostText","setUserProfile","setStatus","deletePost","postId","savePhotoSuccess","getUserProfile","getStatus","updateStatus","savePhoto","file","saveProfile","getState","Error","reject","newPost"],"mappings":"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","file":"static/js/main.25794638.chunk.js","sourcesContent":["import { InferActionsTypes } from \"./redux-store\"\r\n\r\n//const SEND_MESSAGE = 'R/DIALOGS/SEND-MESSAGE'\r\n\r\ntype DialogType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\ntype MessageType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dimas'},\r\n        {id: 2, name: 'Barby'},\r\n        {id: 3, name: 'Sindy'},\r\n        {id: 4, name: 'Bobo'},\r\n        {id: 5, name: 'Worm'},\r\n        {id: 6, name: 'Saw'}\r\n    ] as Array<DialogType>,\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How are you'},\r\n        {id: 3, message: 'Yo'},\r\n        {id: 4, message: 'Yo'},\r\n        {id: 5, message: 'Yo'},\r\n        {id: 6, message: 'YoYoYo'}\r\n      ] as Array<MessageType>\r\n     \r\n  }\r\n\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        \r\n        case 'R/DIALOGS/SEND-MESSAGE':\r\n            let body = action.newMessageBody ;\r\n            return{\r\n                ...state,               \r\n                messages: [ ...state.messages, {id: 6, message: body} ]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const actions = {\r\n    sendMessage: (newMessageBody: string) => ({type: 'R/DIALOGS/SEND-MESSAGE', newMessageBody} as const)\r\n}\r\n\r\n\r\nexport default dialogsReducer\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\ntype ActionsType = InferActionsTypes<typeof actions>","import { UserType } from './../types/types';\r\nimport axios, { AxiosResponse } from 'axios';\r\nimport { ProfileType } from '../types/types';\r\n\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"api-key\": \"59e559f3-c48c-45df-865e-82e51afdf429\"\r\n    }\r\n});\r\n\r\n\r\nexport enum ResultCodesEnum {\r\n    Success = 0,\r\n    Error = 1\r\n}\r\n\r\nexport enum ResultCodeForCaptchaEnum {\r\n    CaptchaIsRequired = 10,\r\n}\r\n\r\nexport type GetItemsType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string | null\r\n}\r\n\r\n\r\nexport type APIResponseType<D={}, RC=ResultCodesEnum> = {\r\n    data: D\r\n    messages: Array<string>\r\n    resultCode: RC\r\n}\r\n","export default \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__36401\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__ICycr\",\"item\":\"Navbar_item__3es92\",\"activeLink\":\"Navbar_activeLink__14gkJ\"};","\r\nlet initialState = {}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nconst sidebarReducer = (state = initialState, action: any) => {\r\n\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer; ","import { GetItemsType, instance, APIResponseType } from \"./api\";\r\n\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage=1, pageSize=10)  {\r\n        return instance.get<GetItemsType>(`users?page=${currentPage}&count=${pageSize}`)\r\n        .then(res =>  res.data)\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post<APIResponseType>(`follow/${userId}`).then(res => res.data)\r\n    },\r\n    unfollow(userId: number) {\r\n       return instance.delete(`follow/${userId}`).then(res => res.data) as Promise<APIResponseType>\r\n    }\r\n}","import { AppStateType, BaseThunkType, InferActionsTypes } from './redux-store'\r\nimport { UserType } from './../types/types'\r\nimport { Dispatch } from 'redux'\r\nimport { ThunkAction } from 'redux-thunk'\r\nimport { usersAPI } from '../api/users-api'\r\n\r\n\r\n// const FOLLOW = 'R/USERS/FOLLOW'\r\n// const UNFOLLOW = 'R/USERS/UNFOLLOW'\r\n// const SET_USERS = 'R/USERS/SET_USERS'\r\n// const SET_CURRENT_PAGE = 'R/USERS/SET_CURRENT_PAGE'\r\n// const SET_TOTAL_USERS_COUNT = 'R/USERS/SET_TOTAL_USERS_COUNT'\r\n// const TOGGLE_IS_FETCHING = 'R/USERS/TOGGLE_IS_FETCHING'\r\n// const TOGGLE_IS_FOLLOWING_PROGRESS = 'R/USERS/TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\n\r\nlet initialState = {\r\n    users: [ ] as Array<UserType>,\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [] as Array<number> // array of users id\r\n}\r\n\r\n\r\n\r\nconst usersReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch(action.type) {\r\n        case 'R/USERS/FOLLOW':\r\n            return { \r\n                ...state,\r\n                users: state.users.map( u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n\r\n        case 'R/USERS/UNFOLLOW':\r\n            return { \r\n                ...state,\r\n                users: state.users.map( u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case 'R/USERS/SET_USERS':{\r\n            return { ...state, users: action.users }\r\n        }   \r\n        case 'R/USERS/SET_CURRENT_PAGE':{\r\n            return { ...state, currentPage: action.currentPage }\r\n        }\r\n        case 'R/USERS/SET_TOTAL_USERS_COUNT':{\r\n            return { ...state, totalUsersCount: action.count}\r\n        } \r\n        \r\n        case 'R/USERS/TOGGLE_IS_FETCHING':{\r\n            return { ...state, isFetching: action.isFetching}\r\n        } \r\n\r\n        case 'R/USERS/TOGGLE_IS_FOLLOWING_PROGRESS':{\r\n            return { \r\n                ...state,\r\n                followingInProgress: action.isFetching \r\n                ? [ ...state.followingInProgress, action.userId] \r\n                : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }       \r\n}\r\n\r\nexport const actions = {\r\n    followSuccess: (userId: number) => ({type: 'R/USERS/FOLLOW', userId } as const),\r\n    unfollowSuccess: (userId: number) => ({type: 'R/USERS/UNFOLLOW', userId } as const),\r\n    setUsers: (users: Array<UserType>) => ({type: 'R/USERS/SET_USERS', users } as const),\r\n    setCurrentPage: (currentPage: number) => ({type: 'R/USERS/SET_CURRENT_PAGE', currentPage } as const),\r\n    setTotalUsersCount: (totalUsersCount: number) => ({type: 'R/USERS/SET_TOTAL_USERS_COUNT', count: totalUsersCount } as const),\r\n    toggleIsFetching: (isFetching: boolean) => ({type: 'R/USERS/TOGGLE_IS_FETCHING', isFetching } as const),\r\n    toggleFollowingProgress: (isFetching: boolean, userId: number) => ({type: 'R/USERS/TOGGLE_IS_FOLLOWING_PROGRESS', isFetching, userId } as const)\r\n}\r\n\r\n\r\nexport const requestUsers = (currentPage: number, pageSize: number ): ThunkAction<Promise<void>, AppStateType, unknown, ActionsTypes> => {\r\n\r\n    return async ( dispatch, getStste) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        dispatch(actions.setCurrentPage(currentPage))\r\n       \r\n        let data = await usersAPI.getUsers(currentPage, pageSize)\r\n            \r\n        dispatch(actions.toggleIsFetching(false))\r\n        dispatch(actions.setUsers(data.items))\r\n        dispatch(actions.setTotalUsersCount(data.totalCount))\r\n            \r\n    }\r\n}\r\n\r\nexport const follow = (userId: number ): ThunkType => {\r\n    return  async ( dispatch) => {\r\n        dispatch(actions.toggleFollowingProgress(true, userId))\r\n        let data = await usersAPI.follow(userId)\r\n            \r\n            if (data.resultCode === 0) {\r\n                dispatch(actions.followSuccess(userId))\r\n        }\r\n            dispatch(actions.toggleFollowingProgress(false, userId))\r\n                                                   \r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: number ): ThunkType => {\r\n    return async ( dispatch) => {\r\n        dispatch(actions.toggleFollowingProgress(true, userId))\r\n        let data = await usersAPI.unfollow(userId)\r\n            \r\n                if (data.resultCode === 0) {\r\n                    dispatch(actions.unfollowSuccess(userId))\r\n                };\r\n                dispatch(actions.toggleFollowingProgress(false, userId))\r\n                                        \r\n           \r\n    }\r\n}\r\n\r\nexport default usersReducer\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\n\r\ntype ThunkType = BaseThunkType<ActionsTypes>","\r\nimport { instance, APIResponseType, ResultCodeForCaptchaEnum, ResultCodesEnum } from \"./api\"\r\n\r\n\r\ntype MeResponseDataType = {\r\n    id: number\r\n    email: string\r\n    login: string  \r\n}\r\n\r\ntype LoginResponseDataType = {\r\n     userId: number  \r\n}\r\n\r\nexport const authAPI = {\r\n    me( ) {\r\n        return instance.get<APIResponseType<MeResponseDataType>>(`auth/me`).then(res => res.data)\r\n    },\r\n\r\n    login( email: string, password: string, rememberMe =false, captcha: null | string = null ) {\r\n        return instance.post<APIResponseType<LoginResponseDataType, ResultCodesEnum | ResultCodeForCaptchaEnum>>(`auth/login`, {email, password, rememberMe, captcha})\r\n        .then(res => res.data)\r\n    },\r\n\r\n    logout(  ) {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}","import { instance } from \"./api\"\r\n\r\ntype GetCaptchaUrlResponseType = {\r\n    url: string\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl( ) {\r\n        return instance.get<GetCaptchaUrlResponseType>(`security/get-captcha-url`).then(res => res.data)\r\n    },\r\n}\r\n","import { Action } from \"redux\"\r\nimport { FormAction, stopSubmit } from \"redux-form\"\r\nimport { setConstantValue, setSyntheticTrailingComments } from \"typescript\"\r\nimport { ResultCodeForCaptchaEnum,ResultCodesEnum  } from \"../api/api\"\r\nimport { authAPI } from \"../api/auth-api\"\r\nimport { securityAPI } from \"../api/security-api\"\r\nimport { BaseThunkType, InferActionsTypes } from \"./redux-store\"\r\n\r\n// const SET_USER_DATA = 'R/auth/SET_USER_DATA'\r\n// const GET_CAPTCHA_URL_SUCCESS = 'R/auth/GET_CAPTCHA_URL_SUCCESS'\r\n\r\n\r\nlet initialState  = {\r\n    userId: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false,\r\n    captchaUrl: null as string | null\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\n\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\n\r\ntype ThunkType = BaseThunkType<ActionsType | FormAction>\r\n\r\nconst authReducer = (state=initialState, action: ActionsType): InitialStateType => {\r\n    switch(action.type) {\r\n        case 'R/auth/SET_USER_DATA':\r\n            return { \r\n                ...state,\r\n                ...action.payload,  \r\n            }\r\n        case 'R/auth/GET_CAPTCHA_URL_SUCCESS':\r\n            return { \r\n                ...state,\r\n                ...action.payload,   \r\n            }\r\n        default:\r\n            return state;\r\n    }       \r\n}\r\n\r\nexport const actions = {\r\n    setAuthUserData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\r\n        type: 'R/auth/SET_USER_DATA', payload: {userId, email, login, isAuth} \r\n    } as const),\r\n    getCaptchaUrlSuccess: (captchaUrl: string) => ({\r\n        type: 'R/auth/GET_CAPTCHA_URL_SUCCESS', payload: {captchaUrl} \r\n    } as const)\r\n    \r\n}\r\n\r\n\r\n// export const getAuthUserData = ( ) => (dispatch) => {\r\n//     return authAPI.me()\r\n//             .then(response => {\r\n//                     if(response.data.resultCode ===0) {\r\n//                         let {id, login, email} = response.data.data;\r\n//                         dispatch(setAuthUserData(id, email, login, true));\r\n//                     } \r\n//             });\r\n// }\r\n\r\nexport const getAuthUserData = (): ThunkType => async (dispatch) => {\r\n    let meData = await authAPI.me()\r\n    \r\n    if (meData.resultCode === ResultCodesEnum.Success) {\r\n        let { id, login, email } = meData.data;\r\n        dispatch(actions.setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\n// export const login = (email, password, rememberMe) => (dispatch) => {\r\n//     authAPI.login(email, password, rememberMe)\r\n//         .then(response => {\r\n//             if (response.data.resultCode === 0) {\r\n//                 dispatch(getAuthUserData())\r\n//             } else {\r\n//                 let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n//                 dispatch(stopSubmit('login', { _error: message }));\r\n//             }\r\n//         });\r\n// }\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string): ThunkType => async (dispatch) => {\r\n    let data = await authAPI.login(email, password, rememberMe, captcha)\r\n        \r\n    if (data.resultCode === ResultCodesEnum.Success) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        // why it noy work ResultCodeForCaptchaEnum.CaptchaIsRequired\r\n        if (data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = data.messages.length > 0 ? data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', { _error: message }))\r\n    }       \r\n}\r\n\r\n// export const logout = () => (dispatch) => {\r\n//     authAPI.logout()\r\n//         .then(response => {\r\n//             if (response.data.resultCode === 0) {\r\n//                 dispatch(setAuthUserData(null, null, null, false))\r\n//             }\r\n//         });\r\n// }\r\n\r\nexport const getCaptchaUrl = (): ThunkType => async (dispatch) => {\r\n    const data = await securityAPI.getCaptchaUrl()\r\n    const captchaUrl = data.url\r\n    \r\n    dispatch(actions.getCaptchaUrlSuccess(captchaUrl))\r\n                \r\n}\r\n\r\nexport const logout = (): ThunkType => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n       \r\n            if (response.data.resultCode === 0) {\r\n                dispatch(actions.setAuthUserData(null, null, null, false))\r\n            }        \r\n}\r\n\r\nexport default authReducer","\r\nimport { getAuthUserData } from \"./auth-reducer\"\r\nimport { InferActionsTypes } from \"./redux-store\"\r\n\r\n//const INITIALIZED_SUCCESS = 'R/APP/INITIALIZED_SUCCESS'\r\n   \r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\n\r\n\r\nconst appReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch(action.type) {\r\n        case 'R/APP/INITIALIZED_SUCCESS':\r\n            return { \r\n                ... state,\r\n                initialized: true\r\n            }\r\n\r\n    \r\n        default:\r\n            return state;\r\n    }       \r\n}\r\n\r\n\r\nexport const actions = {\r\n    initializedSuccess: () => ({type: 'R/APP/INITIALIZED_SUCCESS'} as const)\r\n}\r\n\r\n\r\nexport const initializeApp = ( ) => (dispatch: any) => {\r\n    let promise = dispatch(getAuthUserData())\r\n\r\n    Promise.all([promise])\r\n        .then( () => {\r\n        dispatch(actions.initializedSuccess())\r\n    })\r\n}\r\n\r\n\r\nexport default appReducer","import {Action, applyMiddleware, combineReducers, compose, createStore} from \"redux\"\r\nimport profileReducer from './profile-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport sidebarReducer from './sidebar-reducer'\r\nimport usersReducer from \"./users-reducer\"\r\nimport authReducer from \"./auth-reducer\"\r\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\"\r\n\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n\r\n})\r\n\r\n\r\ntype RootReducerType = typeof rootReducer //(globalstate: GLOBALSTATE) => GLOBALSTATE\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\n\r\ntype PropertiesType<T> = T extends {[key: string]: infer U} ? U: never\r\nexport type InferActionsTypes<T extends {[key: string]: (...args: any[]) => any } > = ReturnType<PropertiesType<T>>\r\n\r\n//export type  InferActionsTypes<T> = T extends {[keys: string]: (...args: any[]) => infer U } ? U : never\r\n\r\nexport type BaseThunkType<A extends Action, R = Promise<void> > = ThunkAction<R, AppStateType, unknown, A>\r\n\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(rootReducer,  composeEnhancers( applyMiddleware(thunkMiddleware) ))\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\n// @ts-ignore\r\nwindow.__store__ = store\r\n\r\nexport default store","\r\nimport React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './Header.module.css'\r\n\r\nexport type MapPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n}\r\n\r\nexport type DispatchPropsType = {\r\n    logout: () => void\r\n}\r\n\r\n\r\nconst Header: React.FC<MapPropsType & DispatchPropsType> = (props) => {\r\n    \r\n    return (\r\n        <header className={s.header}>\r\n        \r\n            <div>\r\n            <img src='https://webstockreview.net/images/clipart-ear-science-sound-1.png' />\r\n            </div>\r\n            <div className={s.item}>\r\n                <p>RUMORS</p>\r\n            </div>\r\n            <div className={s.loginBlock} >\r\n                { props.isAuth \r\n                    ? <div><div className = {s.nick}>{props.login}</div> <button onClick={props.logout}> Log out </button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink> }\r\n            </div>\r\n                   \r\n           \r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Header, { DispatchPropsType, MapPropsType } from './Header'\r\nimport { logout} from '../../redux/auth-reducer'\r\nimport { AppStateType } from '../../redux/redux-store'\r\n\r\n\r\nclass HeaderComponent extends React.Component<MapPropsType & DispatchPropsType>{\r\n    \r\n    render() {\r\n        return <Header {...this.props} />\r\n        }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n})\r\n\r\nexport default connect<MapPropsType, DispatchPropsType, {}, AppStateType> (mapStateToProps, { logout }) (HeaderComponent)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form'\r\nimport { required } from '../../utils/validators/validators'\r\nimport { Input } from '../common/FormsControls/FormsControls'\r\nimport { login } from '../../redux/auth-reducer'\r\nimport { Redirect } from 'react-router-dom'\r\nimport s from './../../components/common/FormsControls/FormsControls.module.css'\r\nimport { AppStateType } from '../../redux/redux-store'\r\n\r\ntype LoginFormOwnProps = {\r\n    captchaUrl: string | null\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<LoginFormValuesType, LoginFormOwnProps> & LoginFormOwnProps> = (props) => {\r\n    return (            \r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <Field placeholder={'Email'} name={'email'}\r\n                    validate={[required]} \r\n                    component={Input}/>\r\n                </div>\r\n                <div>\r\n                    <Field placeholder={'Password'} name={'password'} type={'password'}\r\n                    validate={[required]} \r\n                     component={Input}/>\r\n                </div>\r\n                <div>\r\n                    <Field component={Input} name={'rememberMe'} type={\"checkbox\"}/> remember me\r\n                </div>\r\n                <div>\r\n\r\n                {props.captchaUrl && <img src={props.captchaUrl}/>}\r\n                {props.captchaUrl && <Field placeholder={'Symbol from image'} name={'captcha'}\r\n                    validate={[required]} \r\n                    component={Input}/>}\r\n\r\n                {  props.error &&  <div className={s.formSummaryError}>\r\n                        {props.error}\r\n                    </div>\r\n                }\r\n                    <button>Login</button>\r\n                </div>\r\n            </form>\r\n   )  \r\n}\r\n\r\nconst LoginReduxForm = reduxForm<LoginFormValuesType, LoginFormOwnProps>({form: 'login'})(LoginForm)\r\n\r\ntype MapStatePropsType = {\r\n    captchaUrl: string | null\r\n    isAuth: boolean\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean, captcha: string) => void\r\n}\r\n\r\ntype LoginFormValuesType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string\r\n}\r\n\r\nconst Login: React.FC<MapStatePropsType  & MapDispatchPropsType> = (props) => {\r\n    const onSubmit = (formData: LoginFormValuesType) =>{\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n    return <div>\r\n                <h1>Login</h1>\r\n            \r\n                <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n            </div>      \r\n    \r\n}\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect (mapStateToProps, {login}) (Login)","import  s from './Music.module.css'\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","\r\nimport React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './Navbar.module.css'\r\n\r\nconst Navbar: React.FC = () => {\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div className={s.item}>\r\n        <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n      </div>\r\n      <div className={`${s.item} ${s.active}`}>\r\n        <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <a>Settings</a>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar","import  s from './News.module.css'\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React, { useState } from 'react'\r\nimport s from './Paginator.module.css'\r\nimport cn from 'classnames'\r\n\r\n\r\ntype PropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage?:number \r\n    onPageChanged?: (pageNumber: number) => void\r\n    portionSize?: number\r\n}\r\n\r\nlet Paginator: React.FC<PropsType> = ({totalUsersCount, \r\n                                    pageSize, \r\n                                    currentPage = 1, \r\n                                    onPageChanged = () => {}, \r\n                                    portionSize = 20  }) => {\r\n\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize)\r\n\r\n    let pages: Array<number> = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return <div className = {s.paginator}>\r\n        { portionNumber > 1 &&\r\n        <button onClick = { () => { setPortionNumber(portionNumber - 1) }} >PRIV</button>}\r\n\r\n            {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p => {\r\n                return <span className={ cn({\r\n                    [s.selectedPage]: currentPage === p\r\n                }, s.pageNumber) }\r\n                            key = {p} \r\n                            onClick={(e) => { \r\n                                onPageChanged(p); \r\n                            }}>{p}</span>\r\n            })}\r\n            { portionCount > portionNumber &&\r\n                <button onClick={ () => { setPortionNumber(portionNumber + 1) }}>NEXT</button>}\r\n\r\n            </div>  \r\n}\r\n\r\nexport default Paginator","import React from 'react'\r\nimport styles from './Users.module.css'\r\nimport userPhoto from './../../assets/images/default_image.png'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { UserType } from '../../types/types'\r\n\r\ntype PropsType = {\r\n    user: UserType\r\n    followingInProgress: Array<number>\r\n    unfollow: (userId: number) => void\r\n    follow: (userId: number) => void\r\n}\r\n\r\nlet User: React.FC<PropsType> = ({user, followingInProgress, unfollow, follow}) => {\r\n    let u = user\r\n    return( \r\n       \r\n        <div >\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + u.id} >\r\n                            <img src={u.photos.small != null ? u.photos.small : userPhoto} className={styles.userPhoto} />\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {u.followed\r\n                            ? <button disabled={followingInProgress.some(id => id === u.id)} onClick={() => {unfollow(u.id)}}>\r\n                                Unfollow</button>\r\n                            : <button disabled={followingInProgress.some(id => id === u.id)} onClick={() => {follow(u.id)}}>Follow</button>}\r\n\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <span>\r\n                        <div>{u.name}</div>\r\n                        <div>{u.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{'u.location.country'}</div>\r\n                        <div>{'u.location.city'}</div>\r\n                    </span>\r\n                </span>\r\n            </div>)\r\n      \r\n}\r\n\r\nexport default User","import React, { FC } from 'react';\r\nimport styles from './Users.module.css';\r\n\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\nimport { UserType } from '../../types/types';\r\n\r\ntype PropsType = {\r\n    currentPage: number \r\n    onPageChanged: (pageNumber: number) => void \r\n    totalUsersCount: number \r\n    pageSize: number\r\n    users: Array<UserType>\r\n    followingInProgress: Array<number>\r\n    unfollow: (userId: number) => void\r\n    follow: (userId: number) => void\r\n    \r\n\r\n}\r\n\r\n\r\nlet Users: FC<PropsType> = ({currentPage, \r\n                            onPageChanged, \r\n                            totalUsersCount, \r\n                            pageSize, \r\n                            users, \r\n                            ...props}) => {\r\n\r\n    return <div>\r\n       \r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged} \r\n                    totalUsersCount={totalUsersCount} pageSize={pageSize} />\r\n        <div>\r\n        {\r\n            users.map(u => <User user={u}\r\n                                followingInProgress={props.followingInProgress}\r\n                                key={u.id}\r\n                                unfollow={props.unfollow}\r\n                                follow={props.follow} />)\r\n                \r\n        }\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","import { AppStateType } from './redux-store';\r\nimport { createSelector } from \"reselect\"\r\n\r\nexport const getUsers = (state: AppStateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersSelector = (state: AppStateType) => {\r\n    return getUsers(state).filter(u => true)\r\n}\r\n\r\nexport const getUserSuperSelector = createSelector(getUsers, (users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state: AppStateType ) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, unfollow, requestUsers } from '../../redux/users-reducer';\r\n\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/users-selectors';\r\nimport { UserType } from '../../types/types';\r\nimport { AppStateType } from '../../redux/redux-store';\r\n\r\ntype MapStatePropsType = {\r\n    currentPage: number\r\n    pageSize: number\r\n    isFetching: boolean\r\n    totalUsersCount: number\r\n    users: Array<UserType>\r\n    followingInProgress: Array<number>\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n    unfollow: (userId: number) => void\r\n    follow: (userId: number) => void\r\n    \r\n}\r\n\r\ntype OwnPropsType = {\r\n    pageTitle: string\r\n}\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType & OwnPropsType\r\n\r\n\r\nclass UsersContainer extends React.Component<PropsType> {\r\n    componentDidMount() {\r\n       let {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        let {pageSize} = this.props\r\n        this.props.getUsers(pageNumber, pageSize);\r\n        \r\n        //this.props.setCurrentPage(pageNumber);\r\n              \r\n    }\r\n\r\n    render () {\r\n\r\n        return <>\r\n            <h2>{this.props.pageTitle}</h2>\r\n\r\n            { this.props.isFetching ? <Preloader /> : null }\r\n                <Users totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    onPageChanged ={this.onPageChanged}\r\n                    users={this.props.users}\r\n                    follow={this.props.follow}\r\n                    unfollow={this.props.unfollow}\r\n                    followingInProgress={this.props.followingInProgress}\r\n\r\n                /> \r\n            </>\r\n\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        users:getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         follow: (userId) => {\r\n//             dispatch(followAC(userId));\r\n//         },\r\n//         unfollow: (userId) => {\r\n//             dispatch(unfollowAC(userId));\r\n//         },\r\n//         setUsers: (users) => {\r\n//             dispatch(setUsersAC(users));\r\n//         },\r\n//         setCurrentPage: (pageNumber) => {\r\n//             dispatch(setCurrentPageAC(pageNumber))\r\n//         },\r\n//         setTotalUsersCount: (totalCount) => {\r\n//             dispatch(setTotalUsersCountAC(totalCount))\r\n//         },\r\n//         toggleIsFetching: (isFetching) => {\r\n//             dispatch(toggleIsFetchingAC(isFetching))\r\n//         }\r\n//     }\r\n// }\r\n\r\nexport default compose(\r\n     connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType> (\r\n        mapStateToProps,\r\n        {follow, unfollow, getUsers: requestUsers}),\r\n    )(UsersContainer);","import React from 'react'\r\nimport { Component } from \"react\"\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\nexport function withSuspense<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n\r\n    return (props: WCP) => {\r\n        return <React.Suspense fallback={<div>Loading...</div>}> \r\n            <WrappedComponent {...props} />\r\n        </React.Suspense>\r\n\r\n    }\r\n}","\nimport React, { Component, ComponentType } from 'react'\nimport { connect, Provider } from 'react-redux'\nimport { BrowserRouter, Redirect, Route, Switch, withRouter } from 'react-router-dom'\nimport { compose } from 'redux'\nimport './App.css'\nimport HeaderComponent from './components/Header/HeaderContainer'\nimport LoginPage from './components/Login/Login'\nimport Music from './components/Music/Music'\nimport Navbar from './components/Navbar/Navbar'\nimport News from './components/News/News'\n\nimport UsersContainer from './components/Users/UsersContainer'\nimport { initializeApp } from './redux/app-reducer'\nimport Preloader from './components/common/Preloader/Preloader'\nimport { withSuspense } from './hoc/withSuspense'\nimport store, { AppStateType } from './redux/redux-store'\n\n//import DialogsContainer from './components/Dialogs/DialogsContainer';\nconst DialogsContainer = React.lazy( () => import ('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy( () => import ('./components/Profile/ProfileContainer'))\n\n\ntype MapPropsType = ReturnType<typeof mapStateToProps>\ntype DispatchPropsType = {\n        initializeApp: () => void\n}\n\nconst SuspendedDialogs = withSuspense(DialogsContainer)\nconst SuspendedProfile = withSuspense(ProfileContainer)\n\nclass App extends Component<MapPropsType & DispatchPropsType> {\n    catchAllUnhandledErrors = (e: PromiseRejectionEvent) => {\n        alert('Some error occured')\n        //console.error(promiseRejectionEvent)\n    }    \n    componentDidMount() {\n        this.props.initializeApp ();  \n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\n    }\n    componentWillUnmount() {\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\n    }\n\n    render () {\n            if (!this.props.initialized) {\n                return < Preloader />\n        }\n        return (\n                <div className='app-wrapper'>\n                        <HeaderComponent />\n                        <Navbar />\n                        <div className='app-wrapper-content'>\n                                <Switch>\n\n                                <Route exact path='/' \n                                        render={ () => <Redirect to={'/profile'} /> } />\n                                \n                                <Route path='/dialogs' \n                                        render={ () => <SuspendedDialogs /> }/>\n\n                                <Route path='/profile/:userId?' \n                                        render={ () => <SuspendedProfile />  }/>\n                                        \n                                <Route path='/users' \n                                        render={ () => <UsersContainer pageTitle={'samurai'} /> } />\n\n                                <Route path='/login' \n                                        render={ () => <LoginPage /> } />\n\n\n                                <Route path='/news' render={ () => <News /> } />\n                                <Route path='/music' render={ () => <Music /> } />\n\n                                <Route path='*' render={ () => <div>404 NOT FOUND</div>} />\n\n                                </Switch>\n                        </div>\n                </div>       \n        )\n        }\n}\n\nconst mapStateToProps = (state: AppStateType) => ({\n        initialized: state.app.initialized\n})\n\nlet AppContainer =  compose<React.ComponentType>( \n        withRouter,\n        connect (mapStateToProps, { initializeApp })) (App)\n\n\nconst SamuraiJSApp: React.FC = () => {\n       return <BrowserRouter>\n                        <Provider store={store}>\n                                 <AppContainer />\n                        </Provider>\n                </BrowserRouter>\n }\n\nexport default SamuraiJSApp","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import store from './redux/redux-store'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nimport { HashRouter, Route } from 'react-router-dom'\nimport { Provider } from 'react-redux'\n\nReactDOM.render(\n    <HashRouter >\n    <React.StrictMode>\n      <Provider store={store}>\n        <App  />\n      </Provider>\n    </React.StrictMode>\n    </HashRouter>,    document.getElementById('root'))\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n","import React from 'react'\r\nimport { Field, WrappedFieldMetaProps, WrappedFieldProps } from 'redux-form'\r\nimport { FieldValidatorType } from '../../../utils/validators/validators'\r\nimport s from './FormsControls.module.css'\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\n\r\nconst FormControl: React.FC<FormControlPropsType> = ({ meta: {touched, error }, children}) => {\r\n    const hasError = touched && error\r\n    return (\r\n        <div className = {s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            { hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n    //const {input, meta, child, ...restProps} = props\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    //const {input, meta, child, ...restProps} = props\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder: string | undefined, \r\n                            name: string, \r\n                            validators: Array<FieldValidatorType> , \r\n                            component: React.FC<WrappedFieldProps>, \r\n                            props = {} , text = \"\") => { <div>\r\n        <Field placeholder={placeholder} name={name}\r\n                validate={validators}\r\n                component={component}\r\n                {...props} \r\n        /> {text}\r\n    </div>\r\n\r\n}\r\n\r\nexport type GetStringKeys<T> = Extract<keyof T, string>","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3BCxA\",\"error\":\"FormsControls_error__RQbua\",\"formSummaryError\":\"FormsControls_formSummaryError__2v9vH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2MTfl\",\"item\":\"Header_item__1wNrS\",\"loginBlock\":\"Header_loginBlock__beNG5\",\"nick\":\"Header_nick__1F6ok\"};","export default __webpack_public_path__ + \"static/media/preloader.c594ff9e.svg\";","import React from 'react'\r\nimport preloader from './../../../assets/images/preloader.svg'\r\n\r\ntype PropsType = {\r\n\r\n}\r\n\r\nlet Preloader: React.FC = () => {\r\n    return <div>\r\n            <img src={preloader}/>\r\n        </div>\r\n}\r\n\r\nexport default Preloader","export type FieldValidatorType = (value: string) => string | undefined\r\n\r\n\r\n\r\nexport const required: FieldValidatorType = (value) => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field is required';  \r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType=> (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols` ;\r\n\r\n    return undefined;  \r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1kWws\",\"pageNumber\":\"Paginator_pageNumber__32ltU\",\"selectedPage\":\"Paginator_selectedPage__9_5K8\"};","import { PhotosType, ProfileType } from './../types/types'\r\nimport { instance, APIResponseType } from \"./api\"\r\n\r\ntype SavePhotoResponseDataType = {\r\n    photos: PhotosType\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile (userId: number) {\r\n        return instance.get<ProfileType>(`profile/`+ userId).then(res => res.data)     \r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get<string>(`profile/status/`+ userId).then(res => res.data)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<APIResponseType>(`profile/status`,{status: status}).then(res => res.data)\r\n    },\r\n    savePhoto(photoFile: File) {\r\n        const formData = new FormData()\r\n        formData.append('image', photoFile)\r\n\r\n        return instance.put<APIResponseType<SavePhotoResponseDataType>>(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        } ).then(res => res.data)\r\n    },\r\n    saveProfile(profile: ProfileType) {\r\n        return instance.put<APIResponseType>(`profile`, profile).then(res => res.data)\r\n    }\r\n}","import { PhotosType, PostType, ProfileType } from './../types/types'\r\nimport { FormAction, stopSubmit } from \"redux-form\"\r\nimport { profileAPI } from '../api/profile-api'\r\nimport { BaseThunkType, InferActionsTypes } from './redux-store'\r\n\r\n\r\n// const ADD_POST = 'R/PROFILE/ADD-POST'\r\n// const SET_USER_PROFILE = 'R/PROFILE/SET_USER_PROFILE'\r\n// const SET_STATUS = 'R/PROFILE/SET_STATUS'\r\n// const DELETE_POST = 'R/PROFILE/DELETE_POST'\r\n// const SAVE_PHOTO_SUCCESS = 'R/PROFILE/SAVE_PHOTO_SUCCESS'\r\n\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 12},\r\n        {id: 2, message: \"It's my first post\", likesCount: 45},  \r\n        {id: 2, message: \"blabla\", likesCount: 45},  \r\n        {id: 4, message: \"dada\", likesCount: 45}  \r\n    ] as Array<PostType>,\r\n    profile: null as ProfileType | null,\r\n    status: \"\"\r\n  }\r\n\r\nconst profileReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch(action.type) {\r\n        case 'R/PROFILE/ADD-POST': {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n                };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        }\r\n        \r\n        case 'R/PROFILE/SET_STATUS': {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }; \r\n        }\r\n        case 'R/PROFILE/SET_USER_PROFILE': {\r\n            return { \r\n                ...state, \r\n                profile: action.profile\r\n            }\r\n        }\r\n        case 'R/PROFILE/DELETE_POST':\r\n            return {...state, posts: state.posts.filter(p => p.id != action.postId )}\r\n\r\n        case 'R/PROFILE/SAVE_PHOTO_SUCCESS':\r\n            return {...state, profile: {...state.profile, photos: action.photos} as ProfileType }\r\n        default:\r\n            return state;\r\n    }       \r\n}\r\n\r\nexport const actions ={\r\n    addPostActionCreator: (newPostText: string) => ({type: 'R/PROFILE/ADD-POST', newPostText } as const),\r\n    setUserProfile: (profile: ProfileType) => ({type: 'R/PROFILE/SET_USER_PROFILE', profile } as const),\r\n    setStatus: (status: string) => ({type: 'R/PROFILE/SET_STATUS', status } as const),\r\n    deletePost: (postId: number) => ({type: 'R/PROFILE/DELETE_POST', postId } as const),\r\n    savePhotoSuccess: (photos: PhotosType)  => ({type: 'R/PROFILE/SAVE_PHOTO_SUCCESS', photos } as const)\r\n}\r\n\r\n\r\nexport const getUserProfile = (userId: number): ThunkType => async (dispatch) => {\r\n    const data = await profileAPI.getProfile(userId)\r\n        dispatch(actions.setUserProfile(data))    \r\n}\r\n\r\nexport const getStatus = (userId: number): ThunkType => async (dispatch) => {\r\n    const data = await profileAPI.getStatus(userId)\r\n       \r\n            dispatch(actions.setStatus(data))    \r\n}\r\n\r\nexport const updateStatus = (status: string): ThunkType => async (dispatch) => {\r\n    try{\r\n        let data = await profileAPI.updateStatus(status)\r\n      \r\n        if(data.resultCode === 0){\r\n                dispatch(actions.setStatus(status))\r\n        }\r\n    } catch(error) {\r\n\r\n    }         \r\n  \r\n}\r\n\r\nexport const savePhoto = (file: File): ThunkType => async (dispatch) => {\r\n    const data = await profileAPI.savePhoto(file)\r\n      \r\n    if(data.resultCode === 0){\r\n        dispatch(actions.savePhotoSuccess(data.data.photos)) \r\n    }         \r\n  \r\n}\r\n\r\nexport const saveProfile = (profile: ProfileType): ThunkType => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId\r\n    const data = await profileAPI.saveProfile(profile)\r\n      \r\n    if(data.resultCode === 0){\r\n        if (userId != null) {\r\n            dispatch(getUserProfile(userId))\r\n        } else {\r\n            throw new Error(\"userId can't be null\")\r\n        }\r\n        \r\n    }   else {\r\n        dispatch(stopSubmit('edit-profile' ,{_error: data.messages[0]}))\r\n        return Promise.reject(data.messages[0])\r\n        \r\n        //dispatch(stopSubmit('edit-profile' , {'contacts': {'facebook': response.data.messages[0]} }))\r\n    }      \r\n  \r\n}\r\n\r\nexport default profileReducer\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\n\r\ntype ThunkType = BaseThunkType<ActionsType | FormAction>\r\n"],"sourceRoot":""}